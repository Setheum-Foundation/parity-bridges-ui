(this["webpackJsonpbridge-ui-substrate"]=this["webpackJsonpbridge-ui-substrate"]||[]).push([[0],{587:function(e){e.exports=JSON.parse('{"--1":"Millau Types","MillauBalance":"u64","MillauBlockHash":"H512","MillauBlockNumber":"u64","MillauHeader":{"parent_Hash":"MillauBlockHash","number":"Compact<MillauBlockNumber>","state_root":"MillauBlockHash","extrinsics_root":"MillauBlockHash","digest":"MillauDigest"},"MillauDigest":{"logs":"Vec<MillauDigestItem>"},"MillauDigestItem":{"_enum":{"Other":"Vec<u8>","AuthoritiesChange":"Vec<AuthorityId>","ChangesTrieRoot":"MillauBlockHash","SealV0":"SealV0","Consensus":"Consensus","Seal":"Seal","PreRuntime":"PreRuntime"}},"--2":"Rialto Types","RialtoBalance":"u128","RialtoBlockHash":"H256","RialtoBlockNumber":"u32","RialtoHeader":{"parent_Hash":"RialtoBlockHash","number":"Compact<RialtoBlockNumber>","state_root":"RialtoBlockHash","extrinsics_root":"RialtoBlockHash","digest":"RialtoDigest"},"RialtoDigest":{"logs":"Vec<RialtoDigestItem>"},"RialtoDigestItem":{"_enum":{"Other":"Vec<u8>","AuthoritiesChange":"Vec<AuthorityId>","ChangesTrieRoot":"RialtoBlockHash","SealV0":"SealV0","Consensus":"Consensus","Seal":"Seal","PreRuntime":"PreRuntime"}},"--3":"Common types","Hash":"H512","Address":"AccountId","LookupSource":"AccountId","AccountSigner":"MultiSigner","SpecVersion":"u32","RelayerId":"AccountId","SourceAccountId":"AccountId","ImportedHeader":{"header":"BridgedHeader","requires_justification":"bool","is_finalized":"bool","signal_hash":"Option<BridgedBlockHash>"},"AuthoritySet":{"authorities":"AuthorityList","set_id":"SetId"},"Id":"[u8; 4]","InstanceId":"Id","LaneId":"Id","MessageNonce":"u64","MessageId":"(Id, u64)","MessageKey":{"lane_id":"LaneId","nonce:":"MessageNonce"},"InboundRelayer":"AccountId","InboundLaneData":{"relayers":"Vec<(MessageNonce, MessageNonce, RelayerId)>","last_confirmed_nonce":"MessageNonce"},"OutboundLaneData":{"latest_generated_nonce":"MessageNonce","latest_received_nonce":"MessageNonce","oldest_unpruned_nonce":"MessageNonce"},"MessageData":{"payload":"MessagePayload","fee":"Fee"},"MessageFeeData":{"lane_id":"LaneId","payload":"OutboundPayload"},"MessagePayload":"Vec<u8>","BridgedOpaqueCall":"Vec<u8>","OutboundMessageFee":"Fee","OutboundPayload":{"spec_version":"SpecVersion","weight":"Weight","origin":"CallOrigin","call":"BridgedOpaqueCall"},"CallOrigin":{"_enum":{"SourceRoot":"()","TargetAccount":"(SourceAccountId, MultiSigner, MultiSignature)","SourceAccount":"SourceAccountId"}},"MultiSigner":{"_enum":{"Ed25519":"H256","Sr25519":"H256","Ecdsa":"[u8;33]"}},"MesssagesProofOf":{"bridged_header_hash":"BridgedBlockHash","storage_proof":"Vec<StorageProofItem>","lane":"LaneId","nonces_start":"MessageNonce","nonces_end":"MessageNonce"},"StorageProofItem":"Vec<u8>","MessagesDeliveryProofOf":{"bridged_header_hash":"BridgedBlockHash","storage_proof":"Vec<StorageProofItem>","lane":"LaneId"},"UnrewardedRelayersState":{"unrewarded_relayer_entries":"MessageNonce","messages_in_oldest_entry":"MessageNonce","total_messages":"MessageNonce"},"AncestryProof":"()","Fee":"MillauBalance","Balance":"MillauBalance","BlockHash":"MillauBlockHash","BlockNumber":"MillauBlockNumber","BridgedBlockHash":"RialtoBlockHash","BridgedBlockNumber":"RialtoBlockNumber","BridgedHeader":"RialtoHeader"}')},588:function(e){e.exports=JSON.parse('{"--1":"Millau Types","MillauBalance":"u64","MillauBlockHash":"H512","MillauBlockNumber":"u64","MillauHeader":{"parent_Hash":"MillauBlockHash","number":"Compact<MillauBlockNumber>","state_root":"MillauBlockHash","extrinsics_root":"MillauBlockHash","digest":"MillauDigest"},"MillauDigest":{"logs":"Vec<MillauDigestItem>"},"MillauDigestItem":{"_enum":{"Other":"Vec<u8>","AuthoritiesChange":"Vec<AuthorityId>","ChangesTrieRoot":"MillauBlockHash","SealV0":"SealV0","Consensus":"Consensus","Seal":"Seal","PreRuntime":"PreRuntime"}},"--2":"Rialto Types","RialtoBalance":"u128","RialtoBlockHash":"H256","RialtoBlockNumber":"u32","RialtoHeader":{"parent_Hash":"RialtoBlockHash","number":"Compact<RialtoBlockNumber>","state_root":"RialtoBlockHash","extrinsics_root":"RialtoBlockHash","digest":"RialtoDigest"},"RialtoDigest":{"logs":"Vec<RialtoDigestItem>"},"RialtoDigestItem":{"_enum":{"Other":"Vec<u8>","AuthoritiesChange":"Vec<AuthorityId>","ChangesTrieRoot":"RialtoBlockHash","SealV0":"SealV0","Consensus":"Consensus","Seal":"Seal","PreRuntime":"PreRuntime"}},"--3":"Common types","Address":"AccountId","LookupSource":"AccountId","AccountSigner":"MultiSigner","SpecVersion":"u32","RelayerId":"AccountId","SourceAccountId":"AccountId","ImportedHeader":{"header":"BridgedHeader","requires_justification":"bool","is_finalized":"bool","signal_hash":"Option<BridgedBlockHash>"},"AuthoritySet":{"authorities":"AuthorityList","set_id":"SetId"},"Id":"[u8; 4]","InstanceId":"Id","LaneId":"Id","MessageNonce":"u64","MessageId":"(Id, u64)","MessageKey":{"lane_id":"LaneId","nonce:":"MessageNonce"},"InboundRelayer":"AccountId","InboundLaneData":{"relayers":"Vec<(MessageNonce, MessageNonce, RelayerId)>","last_confirmed_nonce":"MessageNonce"},"OutboundLaneData":{"latest_generated_nonce":"MessageNonce","latest_received_nonce":"MessageNonce","oldest_unpruned_nonce":"MessageNonce"},"MessageData":{"payload":"MessagePayload","fee":"Fee"},"MessagePayload":"Vec<u8>","BridgedOpaqueCall":"Vec<u8>","OutboundMessageFee":"Fee","OutboundPayload":{"spec_version":"SpecVersion","weight":"Weight","origin":"CallOrigin","call":"BridgedOpaqueCall"},"MessageFeeData":{"lane_id":"LaneId","payload":"OutboundPayload"},"CallOrigin":{"_enum":{"SourceRoot":"()","TargetAccount":"(SourceAccountId, MultiSigner, MultiSignature)","SourceAccount":"SourceAccountId"}},"MultiSigner":{"_enum":{"Ed25519":"H256","Sr25519":"H256","Ecdsa":"[u8;33]"}},"MesssagesProofOf":{"bridged_header_hash":"BridgedBlockHash","storage_proof":"Vec<StorageProofItem>","lane":"LaneId","nonces_start":"MessageNonce","nonces_end":"MessageNonce"},"StorageProofItem":"Vec<u8>","MessagesDeliveryProofOf":{"bridged_header_hash":"BridgedBlockHash","storage_proof":"Vec<StorageProofItem>","lane":"LaneId"},"UnrewardedRelayersState":{"unrewarded_relayer_entries":"MessageNonce","messages_in_oldest_entry":"MessageNonce","total_messages":"MessageNonce"},"AncestryProof":"()","Fee":"RialtoBalance","Balance":"RialtoBalance","BlockHash":"RialtoBlockHash","BlockNumber":"RialtoBlockNumber","BridgedBlockHash":"MillauBlockHash","BridgedBlockNumber":"MillauBlockNumber","BridgedHeader":"MillauHeader"}')},625:function(e,t,n){},638:function(e,t){},674:function(e,t){},676:function(e,t){},707:function(e,t){},709:function(e,t){},746:function(e,t){},748:function(e,t){},750:function(e,t){},751:function(e,t){},768:function(e,t){},775:function(e,t){},784:function(e,t){},809:function(e,t){},811:function(e,t){},817:function(e,t){},819:function(e,t){},830:function(e,t){},833:function(e,t){},849:function(e,t){},852:function(e,t){},874:function(e,t,n){"use strict";n.r(t);var a,r=n(13),c=(n(625),n(2)),s=n.n(c),i=n(189),o=n.n(i),u=n(603),l=n(53),d=n(905),b=function(){return Object(r.jsx)(d.a,{pointing:!0,secondary:!0,children:Object(r.jsx)(d.a.Item,{children:"Home"})})},j=n(0),h=n(60);!function(e){e.SET_ACCOUNT="SET_ACCOUNT"}(a||(a={}));var O=function(e){return{payload:{account:e},type:a.SET_ACCOUNT}};function _(e,t){switch(t.type){case a.SET_ACCOUNT:return Object(h.a)(Object(h.a)({},e),{},{account:t.payload.account});default:throw new Error("Unknown type: ".concat(t.type))}}var g=s.a.createContext({}),f=s.a.createContext({});function A(){return Object(c.useContext)(g)}function R(e){var t=e.children,n=void 0===t?null:t,a=Object(c.useReducer)(_,{account:null}),s=Object(j.a)(a,2),i=s[0],o=s[1];return Object(r.jsx)(g.Provider,{value:i,children:Object(r.jsx)(f.Provider,{value:{dispatchAccount:o},children:n})})}var p=n(46),C=n(907),S=n(586),v=["REACT_APP_CHAIN_1","REACT_APP_CHAIN_2","REACT_APP_SUBSTRATE_PROVIDER_CHAIN_1","REACT_APP_SUBSTRATE_PROVIDER_CHAIN_2","REACT_APP_LANE_ID","REACT_APP_KEYRING_DEV_LOAD_ACCOUNTS","REACT_APP_SS58_PREFIX_CHAIN_1","REACT_APP_SS58_PREFIX_CHAIN_2","REACT_APP_BRIDGE_ID_CHAIN_1","REACT_APP_BRIDGE_ID_CHAIN_2"],E=function(e){var t=Object({NODE_ENV:"production",PUBLIC_URL:"https://paritytech.github.io/parity-bridges-ui",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CHAIN_1:"Rialto",REACT_APP_CHAIN_2:"Millau",REACT_APP_SUBSTRATE_PROVIDER_CHAIN_1:"wss://wss.rialto.brucke.link",REACT_APP_SUBSTRATE_PROVIDER_CHAIN_2:"wss://wss.millau.brucke.link",REACT_APP_LANE_ID:"0x00000000",REACT_APP_KEYRING_DEV_LOAD_ACCOUNTS:"false",REACT_APP_SS58_PREFIX_CHAIN_1:"48",REACT_APP_SS58_PREFIX_CHAIN_2:"60",REACT_APP_BRIDGE_ID_CHAIN_1:"rlto",REACT_APP_BRIDGE_ID_CHAIN_2:"mlau"})[e];if(!t)throw new Error("Env Variable ".concat(e," was not defined"));return t},I=n(62),m=n(64),x=n(178),y=n(587),P=n(588);function T(e){return Object(I.a)(Object(m.a)(e),Object(x.a)(e))}var N=function(){return[E("REACT_APP_CHAIN_1"),E("REACT_APP_CHAIN_2")]},M=N(),B=Object(j.a)(M,2),H=B[0],k=B[1],w=function(e){return function(e){switch(e){case"Millau":return{hasher:T,types:y};case"Rialto":return{types:P};default:throw new Error("Unknown chain: ".concat(e))}}(E("REACT_APP_CHAIN_".concat(e)))},D=function(e){var t,n=w(e),a=n.types,r=n.hasher;return{SS58Format:parseInt(E("REACT_APP_SS58_PREFIX_CHAIN_".concat(e))),bridgeId:E("REACT_APP_BRIDGE_ID_CHAIN_".concat(e)),hasher:r,provider:(t=E("REACT_APP_SUBSTRATE_PROVIDER_CHAIN_".concat(e)),new C.a(t)),types:a}},F=function(){var e,t=N(),n=Object(j.a)(t,2),a=n[0],r=n[1];return e={},Object(p.a)(e,a,D("1")),Object(p.a)(e,r,D("2")),e},V="sourceChain",L="targetChain",U=n(902),G=n(904),K=n(300),W=n.n(K);W.a.addColors({debug:"grey",error:"red",info:"green",warn:"blue"});var q,z=W.a.format.cli({all:!0}),Y=W.a.createLogger({transports:[new W.a.transports.Console({format:z})]});!function(e){e.SWAP_CHAINS="SWAP_CHAINS"}(q||(q={}));var X=function(){return{type:q.SWAP_CHAINS}};function J(e,t){switch(t.type){case q.SWAP_CHAINS:return Object(h.a)(Object(h.a)({},e),{},{sourceChain:e.targetChain,targetChain:e.sourceChain});default:throw new Error("Unhandled type: ".concat(t.type))}}var Q=s.a.createContext({});function Z(){return Object(c.useContext)(Q)}var $=s.a.createContext({});function ee(e){var t=e.children,n=Object(c.useReducer)(J,{sourceChain:H,targetChain:k}),a=Object(j.a)(n,2),s=a[0],i=a[1];return Object(r.jsx)(Q.Provider,{value:s,children:Object(r.jsx)($.Provider,{value:{dispatchChangeSourceTarget:i},children:t})})}var te=new G.a;function ne(e){var t=e.children,n=void 0===t?null:t,a=e.provider,s=e.ApiPromiseContext,i=e.contextType,o=e.types,u=e.hasher,l=Z(),d={hasher:u,provider:a,types:o},b=Object(c.useState)(new U.a(d)),h=Object(j.a)(b,2),O=h[0],_=h[1],g=Object(c.useState)(!1),f=Object(j.a)(g,2),A=f[0],R=f[1];return Object(c.useEffect)((function(){A&&(Y.info("".concat(i," was changed")),R(!1),_(new U.a(d)))}),[l]),Object(c.useEffect)((function(){O.isReady.then((function(){o&&te.register(o),Y.info("".concat(i," type registration ready")),R(!0)})).catch((function(e){return Y.error("".concat(i," error in registration: ").concat(e))}))}),[O.isReady]),Object(r.jsx)(s.Provider,{value:{api:O,isApiReady:A},children:n})}var ae=s.a.createContext({});function re(){return Object(c.useContext)(ae)}function ce(e){var t=e.children,n=Z().sourceChain,a=F()[n],c=a.hasher,s=a.types,i=a.provider;return Object(r.jsx)(ne,{contextType:V,ApiPromiseContext:ae,provider:i,types:s,hasher:c,children:t})}var se=s.a.createContext({});function ie(){return Object(c.useContext)(se)}function oe(e){var t=e.children,n=Z().targetChain,a=F()[n],c=a.hasher,s=a.types,i=a.provider;return Object(r.jsx)(ne,{contextType:L,ApiPromiseContext:se,provider:i,types:s,hasher:c,children:t})}var ue,le=n(27),de=n.n(le),be=n(39),je=n(296),he=n(464);!function(e){e.INIT="INIT",e.LOADING="LOADING",e.READY="READY",e.ERROR="ERROR"}(ue||(ue={}));var Oe,_e=s.a.createContext({});function ge(e){var t=e.children,n=void 0===t?null:t,a=Z().sourceChain,s=F()[a].SS58Format,i=Object(c.useState)(ue.INIT),o=Object(j.a)(i,2),u=o[0],l=o[1],d=Object(c.useState)([]),b=Object(j.a)(d,2),O=b[0],_=b[1],g=Object(c.useState)(!1),f=Object(j.a)(g,2),A=f[0],R=f[1],p=Boolean("false"),C=Object(c.useCallback)((function(){var e=function(){var e=Object(be.a)(de.a.mark((function e(){var t;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(ue.LOADING),e.prev=1,e.next=4,Object(je.web3Enable)("Substrate Bridges UI");case 4:return e.next=6,Object(je.web3Accounts)();case 6:t=(t=e.sent).map((function(e){var t=e.address,n=e.meta;return{address:t,meta:Object(h.a)(Object(h.a)({},n),{},{name:"".concat(n.name," (").concat(n.source,")")})}})),he.a.loadAll({isDevelopment:p,ss58Format:s},t),l(ue.READY),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),Y.error("error",e.t0),l(ue.ERROR);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();u!==ue.LOADING&&u!==ue.READY&&e()}),[p,u,s]);return Object(c.useEffect)((function(){u===ue.INIT&&C()}),[u,C]),Object(c.useEffect)((function(){if(u===ue.READY){var e=he.a.getPairs();_(e),R(!0)}}),[u]),Object(r.jsx)(_e.Provider,{value:{keyringPairs:O,keyringPairsReady:A},children:n})}!function(e){e.SET_ESTIMATED_FEE="SET_ESTIMATED_FEE",e.SET_RECEIVER_ADDRESS="SET_RECEIVER_ADDRESS"}(Oe||(Oe={}));var fe=function(e){return{payload:{estimatedFee:e},type:Oe.SET_ESTIMATED_FEE}},Ae=function(e){return{payload:{receiverAddress:e},type:Oe.SET_RECEIVER_ADDRESS}};function Re(e,t){switch(t.type){case Oe.SET_ESTIMATED_FEE:return Object(h.a)(Object(h.a)({},e),{},{estimatedFee:t.payload.estimatedFee});case Oe.SET_RECEIVER_ADDRESS:return Object(h.a)(Object(h.a)({},e),{},{receiverAddress:t.payload.receiverAddress});default:throw new Error("Unknown type: ".concat(t.type))}}var pe=s.a.createContext({}),Ce=s.a.createContext({});function Se(){return Object(c.useContext)(pe)}function ve(){return Object(c.useContext)(Ce)}function Ee(e){var t=e.children,n=void 0===t?null:t,a=Object(c.useReducer)(Re,{estimatedFee:null,receiverAddress:null}),s=Object(j.a)(a,2),i=s[0],o=s[1];return Object(r.jsx)(pe.Provider,{value:i,children:Object(r.jsx)(Ce.Provider,{value:{dispatchTransaction:o},children:n})})}var Ie=n(135),me=n(899),xe=n(910),ye=n(908),Pe=n(901),Te=n(879),Ne=n(198),Me=n(136),Be=n(903),He=n(15),ke=n(441),we=n(123),De=n(55),Fe=n(104),Ve=n(534);function Le(e){var t=e.SS58Format,n=void 0===t?42:t,a=e.bridgeId,r=e.address,c=[].concat(Object(He.a)(Object(ke.a)(Object(we.a)("pallet-bridge/account-derivation/account"))),Object(He.a)(Object(we.a)(a)),Object(He.a)(Object(De.a)(r)));return Object(Fe.a)(Object(Ve.a)(Uint8Array.from(c)),n)}var Ue=function(){var e=Z(),t=e.targetChain,n=e.sourceChain,a=A().account,r=F(),c=r[t].SS58Format,s=r[n].bridgeId;return a?Le({SS58Format:c,address:a.address,bridgeId:s}):null},Ge=function(){var e=Object(c.useContext)(_e),t=e.keyringPairs,n=e.keyringPairsReady,a=Object(c.useState)([]),r=Object(j.a)(a,2),s=r[0],i=r[1],o=Object(c.useContext)(f).dispatchAccount,u=Ue(),l=A().account;Object(c.useEffect)((function(){n&&t.length&&i(t)}),[n,t,i]);return{account:l,accounts:s,derivedAccount:u,setCurrentAccount:function(e){var t=s.find((function(t){return t.address===e}));t&&o(O(t))}}};function Ke(){var e=Object(Ie.a)([""]);return Ke=function(){return e},e}var We=function(e){return e.map((function(e){var t=e.meta,n=e.address;return{icon:"user",key:n,text:t.name.toLocaleUpperCase(),value:n}}))},qe=Object(Me.a)((function(e){var t=e.className,n=Ge(),a=n.account,c=n.accounts,s=n.derivedAccount,i=n.setCurrentAccount,o=Z(),u=o.sourceChain,l=o.targetChain,d=(null===a||void 0===a?void 0:a.address)||"";return Object(r.jsxs)(me.a,{className:t,children:[Object(r.jsx)("p",{children:u}),Object(r.jsx)(Be.a,{value:d,onChange:function(e,t){var n=t.value;i(n)},placeholder:"Select Account",fluid:!0,selection:!0,options:We(c)}),Object(r.jsx)("p",{children:s&&"Derived account on ".concat(l,": ").concat(s)})]})}))(Ke()),ze=n(906),Ye=function(e){var t=e.isApiReady,n=e.api,a=e.chain,r=Object(c.useState)(""),s=Object(j.a)(r,2),i=s[0],o=s[1],u=Object(c.useState)(""),l=Object(j.a)(u,2),d=l[0],b=l[1];return Object(c.useEffect)((function(){return n&&t&&a?(n.derive.chain.bestNumber((function(e){o(e.toString())})).then((function(t){e=t})).catch((function(e){return Y.error("error reading blocks",e)})),n.derive.chain.bestNumberFinalized((function(e){b(e.toString())})).then((function(e){r=e})).catch((function(e){return Y.error("error reading blocks",e)})),function(){r&&r(),e&&e()}):(o(""),void b(""));var e,r}),[n,t,a]),{bestBlock:i,bestBlockFinalized:d}};function Xe(e){return{bridgedGrandpaChain:"bridge".concat(e,"Grandpa"),bridgedMessages:"bridge".concat(e,"Messages")}}var Je=function(e){var t=e.isApiReady,n=e.api,a=e.chain,r=Object(c.useState)(""),s=Object(j.a)(r,2),i=s[0],o=s[1],u=Xe(a).bridgedGrandpaChain;return Object(c.useEffect)((function(){var e,r;if(n&&t&&a)return n.query[u].bestFinalized((function(e){var t=e.toString();n.query[u].importedHeaders(t,(function(e){e.toJSON()&&o(e.toJSON().number)})).then((function(e){r=e}))})).then((function(t){e=t})),function(){r&&r(),e&&e()}}),[t,a,n,u]),{importedHeaders:i}};var Qe=function(e){var t=e.isApiReady,n=e.api,a=e.chain,r=Object(c.useState)({pendingMessages:0,totalMessages:0}),s=Object(j.a)(r,2),i=s[0],o=s[1],u=Object(c.useState)({bridgeReceivedMessages:0}),l=Object(j.a)(u,2),d=l[0],b=l[1],h="0x00000000",O=Xe(a).bridgedMessages;return Object(c.useEffect)((function(){var e,r;if(n&&t&&n.query[O]&&a)return n.query[O].outboundLanes(h,(function(e){var t=e.get("latest_generated_nonce").toNumber(),n=t-e.get("latest_received_nonce").toNumber();o({pendingMessages:n<0?0:n,totalMessages:t})})).then((function(t){e=t})),n.query[O].inboundLanes(h,(function(e){b({bridgeReceivedMessages:e.get("last_confirmed_nonce").toNumber()})})).then((function(e){r=e})),function(){e&&e(),r&&r()}}),[n,t,a,O,h]),Object(c.useEffect)((function(){t||(o({pendingMessages:0,totalMessages:0}),b({bridgeReceivedMessages:0}))}),[t]),{inboundLanes:d,outboundLanes:i}},Ze=function(e){var t=e.destination,n=e.local,a=(0,e.useApiContext)(),r=a.isApiReady,c=a.api,s=Ye({api:c,chain:n,isApiReady:r}),i=Je({api:c,chain:t,isApiReady:r}),o=Qe({api:c,chain:t,isApiReady:r});return Object(h.a)(Object(h.a)(Object(h.a)({},s),i),o)};function $e(){var e=Object(Ie.a)(["\n  word-wrap: break-word;\n  .divider {\n    max-width: 80%;\n  }\n  .description {\n    margin: 10px;\n  }\n"]);return $e=function(){return e},e}var et=Object(Me.a)((function(e){var t=e.chainType,n=e.useApiContext,a=e.className,s=function(e){var t=Z(),n=t.sourceChain,a=t.targetChain,r=Object(c.useState)({destination:"",local:""}),s=Object(j.a)(r,2),i=s[0],o=s[1];return Object(c.useEffect)((function(){var t=n,r=a;e===L&&(t=a,r=n),o({destination:r,local:t})}),[e,n,a]),i}(t),i=s.destination,o=s.local,u=Ze({destination:i,local:o,useApiContext:n}),l=u.bestBlockFinalized,d=u.bestBlock,b=u.importedHeaders,h=u.outboundLanes,O=h.totalMessages,_=h.pendingMessages,g=u.inboundLanes.bridgeReceivedMessages,f=t===V?"Source":"Target";return Object(r.jsx)(me.a,{className:a,children:Object(r.jsxs)(ze.a,{className:"container",children:[Object(r.jsx)(ze.a.Content,{header:"".concat(f,": ").concat(o)}),Object(r.jsxs)(ze.a.Description,{className:"description",children:[Object(r.jsxs)("div",{children:["Best Block: ",d]}),Object(r.jsxs)("div",{children:["Best Finalized block: ",l]}),Object(r.jsxs)("div",{children:["Pending Messages: ",_]}),Object(r.jsxs)("div",{children:["Total Messages: ",O]}),Object(r.jsx)("hr",{className:"divider"}),Object(r.jsxs)("div",{children:["Best Target Finalized block: ",b]}),Object(r.jsxs)("div",{children:["Received Messages: ",g]})]})]})})}))($e()),tt=n(900);function nt(){var e=re().isApiReady,t=ie().isApiReady,n=Object(c.useState)(!1),a=Object(j.a)(n,2),r=a[0],s=a[1];return Object(c.useEffect)((function(){s(e&&t)}),[e,t]),r}var at,rt=n(69);function ct(e){var t=e.input,n=e.type,a=nt(),r=re().api,s="0x00000000",i=Z().targetChain,o=A().account,u=Object(c.useState)(null),l=Object(j.a)(u,2),d=l[0],b=l[1],h=function(e){var t=e.input,n=e.type,a=nt(),r=re().api,s=ie().api,i=A().account,o=Se().receiverAddress,u=Object(c.useState)({callFunction:null,infoFunction:null}),l=Object(j.a)(u,2),d=l[0],b=l[1];return Object(c.useEffect)((function(){if(a){var e=null,c=null;if(i){switch(n){case at.REMARK:e=function(){return s.tx.system.remark(t)},c=function(){return r.tx.system.remark(t).paymentInfo(i)};break;case at.TRANSFER:o&&(e=function(){return s.tx.balances.transfer(o,t)},c=function(){return r.tx.balances.transfer(o,t).paymentInfo(i)});break;default:throw new Error("Unknown type: ".concat(n))}b({callFunction:e,infoFunction:c})}}}),[i,a,t,o,r,s,n]),d}({input:t,type:n}),O=h.callFunction,_=h.infoFunction,g=ve().dispatchTransaction;return Object(c.useEffect)((function(){a&&d&&function(){var e=Object(be.a)(de.a.mark((function e(){var t,n,a,c,o;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.registry.createType("OutboundPayload",d),n=r.registry.createType("MessageFeeData",{lane_id:s,payload:Object(rt.a)(t.toU8a())}),e.next=4,r.rpc.state.call("To".concat(i).concat("OutboundLaneApi_estimate_message_delivery_and_dispatch_fee"),Object(rt.a)(n.toU8a()));case 4:a=e.sent,c=r.registry.createType("Option<Balance>",a),o=c.toString(),g(fe(o));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[a,g,s,d,r.registry,r.rpc.state,i]),Object(c.useEffect)((function(){(function(){var e=Object(be.a)(de.a.mark((function e(){var t,n,a,r,c;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o&&_&&O)){e.next=11;break}return e.next=3,_();case 3:return t=e.sent,n=t.weight.toNumber(),e.next=7,O();case 7:a=e.sent,r=a.toU8a(),c={call:r,origin:{SourceAccount:o.addressRaw},spec_version:1,weight:n},b(c);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[o,O,_]),{payload:d}}!function(e){e.TRANSFER="TRANSFER",e.REMARK="REMARK"}(at||(at={}));var st=function(e){var t=e.isRunning,n=e.setIsRunning,a=e.setExecutionStatus,r=e.message,c=e.input,s=e.type,i=re().api,o=Se(),u=o.estimatedFee,l=o.receiverAddress,d=Z().targetChain,b=A().account,j=ct({input:c,type:s}).payload;return{isButtonDisabled:function(){switch(s){case at.REMARK:return t||!b;case at.TRANSFER:return t||!l||!b;default:throw new Error("Unknown type: ".concat(s))}},sendLaneMessage:function(){var e=Object(be.a)(de.a.mark((function e(){var c,s,o,l;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,b&&!t){e.next=3;break}return e.abrupt("return");case 3:if(n(!0),c=i.tx["bridge".concat(d,"Messages")].sendMessage("0x00000000",j,u),s={nonce:-1},o=b,!b.meta.isInjected){e.next=13;break}return e.next=10,Object(je.web3FromSource)(b.meta.source);case 10:l=e.sent,s.signer=l.signer,o=b.address;case 13:return e.next=15,c.signAndSend(o,Object(h.a)({},s));case 15:a(r.successfull),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),a(r.error),Y.error(e.t0);case 22:return e.prev=22,n(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[0,18,22,25]])})));return function(){return e.apply(this,arguments)}}()}};function it(){var e=Object(Ie.a)(["\n  display: flex !important;\n  justify-content: center !important;\n"]);return it=function(){return e},e}var ot=Object(Me.a)((function(e){var t=e.className,n=Object(c.useState)(!1),a=Object(j.a)(n,2),s=a[0],i=a[1],o=Object(c.useState)("0x"),u=Object(j.a)(o,2),l=u[0],d=u[1],b=Object(c.useState)(""),h=Object(j.a)(b,2),O=h[0],_=h[1],g=nt(),f=Se().estimatedFee,A=st({input:l,isRunning:s,message:{error:"Error sending remark",successfull:"- Remark was executed succesfully"},setExecutionStatus:_,setIsRunning:i,type:at.REMARK}),R=A.isButtonDisabled,p=A.sendLaneMessage;return g?Object(r.jsxs)(me.a,{className:t,children:[Object(r.jsx)(tt.a,{onChange:function(e){_(""),d(e.target.value)},value:l}),Object(r.jsx)(Te.a,{disabled:R(),onClick:p,children:"Send Remark"}),Object(r.jsx)("p",{children:f&&"Estimated source Fee: ".concat(f)}),Object(r.jsx)("div",{className:"status",children:Object(r.jsx)("p",{children:""!==O&&O})})]}):null}))(it()),ut=n(532),lt=function(e){var t=e.receiverAddress,n=e.chain,a=F()[n],r=a.SS58Format,c=a.bridgeId;try{var s=Object(ut.a)(t,r),i=Object(j.a)(s,1)[0],o=t;if(!i)o=Le({SS58Format:r,address:t,bridgeId:c});return o}catch(u){throw new Error("INCORRECT-FORMAT")}};function dt(){var e=Object(Ie.a)([""]);return dt=function(){return e},e}var bt=Object(Me.a)((function(e){var t=e.className,n=Object(c.useState)(!1),a=Object(j.a)(n,2),s=a[0],i=a[1],o=Object(c.useState)("0"),u=Object(j.a)(o,2),l=u[0],d=u[1],b=Object(c.useState)(""),h=Object(j.a)(b,2),O=h[0],_=h[1],g=Object(c.useState)(),f=Object(j.a)(g,2),A=f[0],R=f[1],p=Object(c.useState)(""),C=Object(j.a)(p,2),S=C[0],v=C[1],E=function(){var e=ve().dispatchTransaction,t=Z().targetChain;return function(n){var a=n.setReceiverMessage,r=n.receiver;a("");try{var c=lt({chain:t,receiverAddress:r});c!==r&&a("The format for the account is incorrect, funds will be sent to ".concat(c)),e(Ae(c))}catch(s){Y.error(s),"INCORRECT-FORMAT"===s.message&&a("Invalid address, please provide a valid address")}}}(),I=nt(),m=Se(),x=m.estimatedFee,y=m.receiverAddress,P=st({input:l,isRunning:s,message:{error:"Error sending transfer",successfull:"Transfer was executed succesfully"},setExecutionStatus:v,setIsRunning:i,type:at.TRANSFER}),T=P.isButtonDisabled,N=P.sendLaneMessage;return I?Object(r.jsxs)(me.a,{className:t,children:[Object(r.jsx)(xe.a.Row,{children:Object(r.jsxs)(xe.a.Column,{children:[Object(r.jsx)("label",{children:"Receiver"}),Object(r.jsx)(tt.a,{fluid:!0,onChange:function(e){var t=e.target.value;_(t),E({receiver:t,setReceiverMessage:R})},value:O}),Object(r.jsx)("p",{children:A&&"".concat(A)})]})}),Object(r.jsx)(xe.a.Row,{children:Object(r.jsxs)(xe.a.Column,{children:[Object(r.jsx)("label",{children:"Sender"}),Object(r.jsx)(tt.a,{onChange:function(e){v(""),d(e.target.value)},value:l})]})}),Object(r.jsx)(xe.a.Row,{children:Object(r.jsxs)(xe.a.Column,{children:[Object(r.jsx)(Te.a,{disabled:T(),onClick:N,children:"Send Transfer"}),Object(r.jsx)("p",{children:y&&x&&"Estimated source Fee: ".concat(x)})]})}),Object(r.jsx)("div",{className:"status",children:Object(r.jsx)("p",{children:""!==S&&S})})]}):null}))(dt());function jt(){var e=Object(Ie.a)(["\n  .switchButton {\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n"]);return jt=function(){return e},e}var ht=Object(Me.a)((function(e){var t=e.className,n=nt(),a=Z(),s=a.sourceChain,i=a.targetChain,o=Object(c.useContext)($).dispatchChangeSourceTarget;return n?Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(me.a,{className:t,children:Object(r.jsxs)(xe.a,{children:[Object(r.jsx)(xe.a.Row,{children:Object(r.jsx)(xe.a.Column,{width:5,children:"".concat(s," => ").concat(i)})}),Object(r.jsxs)(xe.a.Row,{children:[Object(r.jsx)(xe.a.Column,{width:1}),Object(r.jsx)(xe.a.Column,{width:5,children:Object(r.jsx)(et,{chainType:V,useApiContext:re})}),Object(r.jsx)(xe.a.Column,{width:1,children:Object(r.jsx)("div",{className:"switchButton",children:Object(r.jsx)(Te.a,{disabled:!n,onClick:function(){return o(X())},children:Object(r.jsx)(Ne.a,{fitted:!0,name:"exchange"})})})}),Object(r.jsx)(xe.a.Column,{width:5,children:Object(r.jsx)(et,{chainType:L,useApiContext:ie})})]}),Object(r.jsx)(xe.a.Row,{children:Object(r.jsx)(xe.a.Column,{width:12,children:Object(r.jsx)(qe,{})})}),Object(r.jsx)(xe.a.Row,{children:Object(r.jsx)(xe.a.Column,{width:12,children:Object(r.jsx)(ot,{})})}),Object(r.jsx)(xe.a.Row,{children:Object(r.jsx)(xe.a.Column,{width:12,children:Object(r.jsx)(bt,{})})})]})})}):Object(r.jsx)(ye.a,{active:!0,children:Object(r.jsx)(Pe.a,{})})}))(jt());var Ot=function(){return Object(r.jsx)(ee,{children:Object(r.jsx)(ce,{children:Object(r.jsx)(oe,{children:Object(r.jsx)(ge,{children:Object(r.jsx)(R,{children:Object(r.jsx)(Ee,{children:Object(r.jsx)(u.a,{children:Object(r.jsx)(l.c,{children:Object(r.jsxs)(l.a,{path:"/",children:[Object(r.jsx)(b,{}),Object(r.jsx)(ht,{})]})})})})})})})})})};!function(){var e,t=Object(S.a)(v);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(!Object({NODE_ENV:"production",PUBLIC_URL:"https://paritytech.github.io/parity-bridges-ui",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CHAIN_1:"Rialto",REACT_APP_CHAIN_2:"Millau",REACT_APP_SUBSTRATE_PROVIDER_CHAIN_1:"wss://wss.rialto.brucke.link",REACT_APP_SUBSTRATE_PROVIDER_CHAIN_2:"wss://wss.millau.brucke.link",REACT_APP_LANE_ID:"0x00000000",REACT_APP_KEYRING_DEV_LOAD_ACCOUNTS:"false",REACT_APP_SS58_PREFIX_CHAIN_1:"48",REACT_APP_SS58_PREFIX_CHAIN_2:"60",REACT_APP_BRIDGE_ID_CHAIN_1:"rlto",REACT_APP_BRIDGE_ID_CHAIN_2:"mlau"})[n])throw new Error("Missing ".concat(n," variable"))}}catch(a){t.e(a)}finally{t.f()}}(),o.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(Ot,{})}),document.getElementById("root"))}},[[874,1,2]]]);
//# sourceMappingURL=main.bc437c7e.chunk.js.map